rgn
names(rgn)
names(rgn) = mod_obj$cs
names(rgn)
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
rgn
list(rgn)
name(rng)
add_group_selector
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
mod_obj <- add_group_selector(mod_obj, vehicles = mod_obj$nmp, regions = rgn)
mod_obj$data_group_selector
mod_obj$data_group_selector
is.load_data_ready(mod_obj)
names(mod_obj)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(mmmactive)
library(tidyverse)
mod_obj <- create_mod_obj()
mod_obj
is.mod_obj(mod_obj)
is.activated(mod_obj)
is.load_data_ready(mod_obj)
is.data_transformed(mod_obj)
is.modeled(mod_obj)
is.modeled(mod_obj)
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
mod_obj <- activate_model_setup(mod_obj, input_file_ModelSetup)
names(mod_obj)
is.activated(mod_obj)
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
mod_obj <- activate_model_spec(mod_obj, input_file_ModelSpec)
names(mod_obj)
is.activated(mod_obj)
mod_obj$spec
is.load_data_ready(mod_obj)
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
mod_obj <- add_group_selector(mod_obj, vehicles = mod_obj$nmp, regions = rgn)
mod_obj$data_group_selector
is.load_data_ready(mod_obj)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(mmmactive)
library(tidyverse)
input_file_ModelSetup =  here::here("data/ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data/ttn-ModelSpec.csv")
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec)
mod_obj <- add_group_selector(mod_obj, vehicles = nmp, regions = rgn)
input_file_ModelData = here::here("data","ModelData.xlsx")
mod_obj <- Load_ModelData(mod_obj, input_file_ModelData)
mod_obj$data_input$monthly
mod_obj$data_input$weekly
mod_obj$data_input$monthly
input_file_FMIData = here::here("data","FMI.csv")
mod_obj <- Load_ModelData(mod_obj, input_file_FMIData)
input_file_FMIData = here::here("data","FMI.csv")
mod_obj <- Load_FMIData(mod_obj, input_file_FMIData)
mod_obj$Ftable
glimpse(mod_obj$Ftable)
str(mod_obj$Ftable)
head(mod_obj$Ftable)
mod_obj$Ftable
input_file_MSRPData <- here::here("data","MSRPData.csv")
mod_obj <- Load_MSRPData(mod_obj, input_file_MSRPData)
mod_obj$Mtable
head(mod_obj$Ftable, 50)
head(mod_obj$data_input$monthly, 50)
head(mod_obj$data_input$weekly, 50)
input_file_FMIData = here::here("data","FMI.csv")
mod_obj <- Load_FMIData(mod_obj, input_file_FMIData)
head(mod_obj$Ftable, 50)
input_file_MSRPData <- here::here("data","MSRPData.csv")
mod_obj <- Load_MSRPData(mod_obj, input_file_MSRPData)
mod_obj$Mtable
input_file_SpendData <- here::here("data","SpendData.csv")
mod_obj <- Load_SpendData(mod_obj, input_file_SpendData)
mod_obj$Stable
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- Load_Data(mod_obj, input_files)
head(mod_obj$Ftable, 50)
?glimpse
glimpse(mod_obj$Ftable)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(mmmactive)
library(tidyverse)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(mod_obj, vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
library(mmmactive)
library(tidyverse)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
is.transform_ready(mod_obj)
library(mmmactive)
library(tidyverse)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
is.transform_ready(mod_obj)
library(mmmactive)
library(tidyverse)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
is.transform_ready(mod_obj)
input_FitCurves <- here::here("data","Fit_Curves.xlsx")
mod_obj <- Load_FitCurves(mod_obj, input_FitCurves)
library(mmmactive)
library(tidyverse)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
is.transform_ready(mod_obj)
input_FitCurves <- here::here("data","Fit_Curves.xlsx")
mod_obj <- Load_FitCurves(mod_obj, input_FitCurves)
library(mmmactive)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(mmmactive)
library(tidyverse)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
is.transform_ready(mod_obj)
input_FitCurves <- here::here("data","Fit_Curves.xlsx")
mod_obj <- Load_FitCurves(mod_obj, input_FitCurves)
is.transform_ready(mod_obj)
mod_obj <- Transform(mod_obj, print = TRUE)
?roll_sumr
??roll_sumr
library(RcppRoll)
mod_obj <- Transform(mod_obj, print = TRUE)
devtools::document()
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(mmmactive)
library(tidyverse)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
is.transform_ready(mod_obj)
input_FitCurves <- here::here("data","Fit_Curves.xlsx")
mod_obj <- Load_FitCurves(mod_obj, input_FitCurves)
is.transform_ready(mod_obj)
mod_obj <- Transform(mod_obj, print = TRUE)
library(mmmactive)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(mmmactive)
library(tidyverse)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
is.transform_ready(mod_obj)
input_FitCurves <- here::here("data","Fit_Curves.xlsx")
mod_obj <- Load_FitCurves(mod_obj, input_FitCurves)
is.transform_ready(mod_obj)
mod_obj <- Transform(mod_obj, print = TRUE)
mod_obj$data_input$weekly$tv_direct_t1
mod_obj$data_input$weekly$tv_e_ceq_direct_t2
mod_obj$spec
mod_obj$spec %>% filter(Orig_Variable == "tv_e_ceq_direct_t2")
mod_obj$spec
mod_obj$spec$Orig_Variable
mod_obj$spec %>% filter(Orig_Variable == "tv_e_ceq_direct_t2")
mod_obj$spec %>% filter(Orig_Variable == "tv_e_eeq_direct_t2")
?TransformVar
TransformVar(data_vector = mod_obj$data_input$weekly["tv_e_eeq_direct_t2"],
spec_row = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",],
fit_curves = mod_obj$fit_curves)
mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
mod_obj$data_input$weekly["tv_e_eeq_direct_t2"]
mod_obj$data_input$weekly[["tv_e_eeq_direct_t2"]]
TransformVar(data_vector = mod_obj$data_input$weekly[["tv_e_eeq_direct_t2"]],
spec_row = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",],
fit_curves = mod_obj$fit_curves)
data_vector_transformed =
TransformVar(data_vector = mod_obj$data_input$weekly[["tv_e_eeq_direct_t2"]],
spec_row = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",],
fit_curves = mod_obj$fit_curves)
data_vector_transformed
class(data_vector_transformed)
data_vector = mod_obj$data_input$weekly[["tv_e_eeq_direct_t2"]]
transfromation_instruction = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
data_vector_transformed =
TransformVar(data_vector = data_vector,
spec_row = transfromation_instruction,
fit_curves = mod_obj$fit_curves)
class(data_vector_transformed)
plot(data_vector, data_vector_transformed)
data_vector = mod_obj$data_input$weekly[["tv_e_eeq_direct_t2"]]
transfromation_instruction = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
data_vector_transformed =
TransformVar(data_vector = data_vector,
spec_row = transfromation_instruction,
fit_curves = mod_obj$fit_curves)
plot(data_vector, data_vector_transformed)
data_vector = mod_obj$data_input$weekly[["tv_e_eeq_direct_t2"]]
transfromation_instruction = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
data_vector_transformed =
TransformVar(data_vector = 1:100,
spec_row = transfromation_instruction,
fit_curves = mod_obj$fit_curves)
plot(data_vector, data_vector_transformed)
data_vector = 1:100
transfromation_instruction = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
data_vector_transformed =
TransformVar(data_vector = 1:100,
spec_row = transfromation_instruction,
fit_curves = mod_obj$fit_curves)
plot(data_vector, data_vector_transformed)
data_vector = 1:100
transfromation_instruction = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
data_vector_transformed =
TransformVar(data_vector = 1:1000,
spec_row = transfromation_instruction,
fit_curves = mod_obj$fit_curves)
plot(data_vector, data_vector_transformed)
data_vector = 1:1000
transfromation_instruction = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
data_vector_transformed =
TransformVar(data_vector = data_vector,
spec_row = transfromation_instruction,
fit_curves = mod_obj$fit_curves)
plot(data_vector, data_vector_transformed)
data_vector = 1:200
transfromation_instruction = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
data_vector_transformed =
TransformVar(data_vector = data_vector,
spec_row = transfromation_instruction,
fit_curves = mod_obj$fit_curves)
plot(data_vector, data_vector_transformed)
mod_obj <- Transform(mod_obj)
mod_obj <- Transform(mod_obj, print = FALSE)
mod_obj <- Transform(mod_obj)
data_vector = mod_obj$data_input$weekly[["tv_e_eeq_direct_t2"]]
transfromation_instruction = mod_obj$spec[mod_obj$spec$Orig_Variable == "tv_e_eeq_direct_t2",]
transfromation_instruction
glimpse(mod_obj$data_transformed$monthly)
glimpse(mod_obj$data_transformed$weekly)
glimpse(mod_obj$data)
?mmmactive
browseVignettes(package = "mmmactive")
browseVignettes(package = "mmmactive")
devtools::install(build_vignettes = TRUE)
browseVignettes(package = "mmmactive")
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(mmmactive)
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
input_file_ModelData = here::here("data","ModelData.xlsx")
input_file_FMIData = here::here("data","FMI.csv")
input_file_MSRPData <- here::here("data","MSRPData.csv")
input_file_SpendData <- here::here("data","SpendData.csv")
input_files = list(
input_file_ModelData = input_file_ModelData,
input_file_FMIData = input_file_FMIData,
input_file_SpendData = input_file_SpendData,
input_file_MSRPData = input_file_MSRPData
)
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec) %>%
add_group_selector(vehicles = nmp, regions = rgn) %>%
Load_Data(input_files)
is.transform_ready(mod_obj)
input_FitCurves <- here::here("data","Fit_Curves.xlsx")
mod_obj <- Load_FitCurves(mod_obj, input_FitCurves)
is.transform_ready(mod_obj)
?sym
?bind_cols
?one_of
?pivot_longer
?ends_with
?unite
?imap
?as_tibble
?bind_rows
?separate
?summarise
?everything
?left_join
?arrange
?rename
styler:::style_active_file()
devtools::document()
devtools::document()
library(mmmactive)
devtools::document()
?read.csv
?spread
devtools::document()
?set_names
?‘:=’
??‘:=’
??`:=`
library(mmmactive)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(mmmactive)
mod_obj <- create_mod_obj()
mod_obj
is.mod_obj(mod_obj)
is.activated(mod_obj)
is.load_data_ready(mod_obj)
is.data_transformed(mod_obj)
is.modeled(mod_obj)
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
mod_obj <- activate_model_setup(mod_obj, input_file_ModelSetup)
names(mod_obj)
is.activated(mod_obj)
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
mod_obj <- activate_model_spec(mod_obj, input_file_ModelSpec)
names(mod_obj)
is.activated(mod_obj)
is.load_data_ready(mod_obj)
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
mod_obj <- add_group_selector(mod_obj, vehicles = mod_obj$nmp, regions = rgn)
mod_obj$data_group_selector
is.load_data_ready(mod_obj)
mod_obj$spec
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
#library(tidyverse)
library(mmmactive)
input_file_ModelSetup =  here::here("data","ttn-ModelSetup.csv")
input_file_ModelSpec = here::here("data","ttn-ModelSpec.csv")
nmp <- "ttn"
rgn <- c("CR", "MAR", "MTN", "MWR", "NER", "NWR", "SER", "WR")
mod_obj <- create_mod_obj()
mod_obj <- mod_obj %>%
activate_model_setup(input_file_ModelSetup) %>%
activate_model_spec(input_file_ModelSpec)
mod_obj <- add_group_selector(mod_obj, vehicles = nmp, regions = rgn)
input_file_ModelData = here::here("data","ModelData.xlsx")
mod_obj <- Load_ModelData(mod_obj, input_file_ModelData)
glimpse(mod_obj$data_input$monthly)
